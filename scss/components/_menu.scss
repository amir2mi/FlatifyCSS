:root {
	--#{$CSS_VAR_PFX}menu-bg-color: var(--#{$CSS_VAR_PFX}bg-color);
	--#{$CSS_VAR_PFX}menu-txt-color: var(--#{$CSS_VAR_PFX}txt-color);
	--#{$CSS_VAR_PFX}menu-border-color: var(--#{$CSS_VAR_PFX}bg-color-darker);

	--#{$CSS_VAR_PFX}menu-item-bg-color: var(--#{$CSS_VAR_PFX}bg-color);
	--#{$CSS_VAR_PFX}menu-item-bg-color__hover: var(--#{$CSS_VAR_PFX}bg-color-dark);
	--#{$CSS_VAR_PFX}menu-item-bg-color__active: var(--#{$CSS_VAR_PFX}bg-color-dark);
	--#{$CSS_VAR_PFX}menu-item-bg-color__focus: var(--#{$CSS_VAR_PFX}bg-color-dark);

	--#{$CSS_VAR_PFX}menu-item-txt-color: var(--#{$CSS_VAR_PFX}txt-color);
	--#{$CSS_VAR_PFX}menu-item-txt-color__hover: var(--#{$CSS_VAR_PFX}txt-color);
	--#{$CSS_VAR_PFX}menu-item-txt-color__active: var(--#{$CSS_VAR_PFX}txt-color);
	--#{$CSS_VAR_PFX}menu-item-txt-color__focus: var(--#{$CSS_VAR_PFX}txt-color);
}

.menu-items-wrapper {
	--#{$CSS_VAR_PFX}local-txt-color: var(--#{$CSS_VAR_PFX}menu-txt-color);
	--#{$CSS_VAR_PFX}local-bg-color: var(--#{$CSS_VAR_PFX}menu-item-bg-color);
	--#{$CSS_VAR_PFX}local-border-color: var(--#{$CSS_VAR_PFX}menu-border-color);
	list-style: none;
	padding: 0.5em;
	margin: 0;
	background: var(--#{$CSS_VAR_PFX}local-bg-color);

	&[class*="style-"] {
		--#{$CSS_VAR_PFX}menu-item-bg-color: var(--#{$CSS_VAR_PFX}local-bg-color);
		--#{$CSS_VAR_PFX}menu-item-bg-color__hover: var(--#{$CSS_VAR_PFX}local-bg-color);
		--#{$CSS_VAR_PFX}menu-item-bg-color__active: var(--#{$CSS_VAR_PFX}local-bg-color);
		--#{$CSS_VAR_PFX}menu-item-bg-color__focus: var(--#{$CSS_VAR_PFX}local-bg-color);
		--#{$CSS_VAR_PFX}menu-item-txt-color: var(--#{$CSS_VAR_PFX}local-txt-color);
		--#{$CSS_VAR_PFX}menu-item-txt-color__hover: var(--#{$CSS_VAR_PFX}local-txt-color);
		--#{$CSS_VAR_PFX}menu-item-txt-color__active: var(--#{$CSS_VAR_PFX}local-txt-color);
		--#{$CSS_VAR_PFX}menu-item-txt-color__focus: var(--#{$CSS_VAR_PFX}local-txt-color);
	}

	.menu-item {
		margin: 0 0.25em;
		color: var(--#{$CSS_VAR_PFX}local-txt-color);
		background: var(--#{$CSS_VAR_PFX}local-bg-color);
		border-radius: calc(var(--#{$CSS_VAR_PFX}border-radius) * 0.75);
		transition: all var(--#{$CSS_VAR_PFX}simple-transition);

		a {
			display: block;
			padding: 0.9em 1.4em;
			color: inherit;
			text-decoration: none !important;
			outline: none;
		}

		&:not(.heading) {
			&:hover {
				color: var(--#{$CSS_VAR_PFX}menu-item-txt-color__hover);
				background: var(--#{$CSS_VAR_PFX}menu-item-bg-color__hover);
				filter: brightness(95%);
			}

			&:active {
				color: var(--#{$CSS_VAR_PFX}menu-item-txt-color__active) !important;
				background: var(--#{$CSS_VAR_PFX}menu-item-bg-color__active) !important;
				filter: brightness(95%) !important;
			}

			&:focus-within {
				color: var(--#{$CSS_VAR_PFX}menu-item-txt-color__focus);
				background: var(--#{$CSS_VAR_PFX}menu-item-bg-color__focus);
				filter: brightness(95%);
			}
		}

		&.heading {
			font-weight: var(--#{$CSS_VAR_PFX}medium-font-weight);
			padding: 0.75em;
		}

		&.separator{
			height: var(--#{$CSS_VAR_PFX}border-width);
			margin: 0.5em 0 !important;
			background: var(--#{$CSS_VAR_PFX}local-border-color) !important;
			opacity: 0.5;
		}
	}

	&.dropdown,
	&.submenu {
		min-width: 12em;
		background: var(--#{$CSS_VAR_PFX}local-bg-color);
		border: var(--#{$CSS_VAR_PFX}border-width) solid var(--#{$CSS_VAR_PFX}local-border-color);
		border-radius: var(--#{$CSS_VAR_PFX}border-radius);

		.menu-item {
			font-size: 0.9em;
			margin: 0;

			&:not(:last-child) {
				margin-bottom: 0.32em;
			}

			a {
				padding: 0.64em 1.25em;
			}
		}

		.pointer-arrow,
		&[class*="arrow-"]:before {
			content: " ";
			position: absolute;
			height: 0;
			width: 0;
			border-style: solid;
			will-change: top, bottom, left, right;
		}

		&[data-popper-placement="bottom"] .pointer-arrow,
		&.arrow-top:before {
			top: -0.5em;
			bottom: -0.5em;
			border-width: 0 0.64em 0.64em 0.64em;
			border-color: var(--#{$CSS_VAR_PFX}local-bg-color) transparent;
			filter: drop-shadow(
				0 calc(var(--#{$CSS_VAR_PFX}border-width) * -1) 0 var(--#{$CSS_VAR_PFX}local-border-color)
			);
		}

		&[data-popper-placement="top"] .pointer-arrow,
		&.arrow-bottom:before {
			bottom: -0.5em;
			border-width: 0.64em 0.64em 0 0.64em;
			border-color: var(--#{$CSS_VAR_PFX}local-bg-color) transparent;
			filter: drop-shadow(0 var(--#{$CSS_VAR_PFX}border-width) 0 var(--#{$CSS_VAR_PFX}local-border-color));
		}

		&[data-popper-placement="right"] .pointer-arrow,
		&.arrow-left:before {
			left: -0.5em;
			border-width: 0.64em 0.64em 0.64em 0;
			border-color: transparent var(--#{$CSS_VAR_PFX}local-bg-color);
			filter: drop-shadow(
				calc(var(--#{$CSS_VAR_PFX}border-width) * -1) 0 0 var(--#{$CSS_VAR_PFX}local-border-color)
			);
		}

		&[data-popper-placement="left"] .pointer-arrow,
		&.arrow-right:before {
			right: -0.5em;
			border-width: 0.64em 0 0.64em 0.64em;
			border-color: transparent var(--#{$CSS_VAR_PFX}local-bg-color);
			filter: drop-shadow(var(--#{$CSS_VAR_PFX}border-width) 0 0 var(--#{$CSS_VAR_PFX}local-border-color));
		}
	}
}

.menu-items-wrapper:not(.dropdown) {
	background: var(--#{$CSS_VAR_PFX}local-bg-color);
}
